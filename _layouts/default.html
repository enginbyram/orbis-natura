<!DOCTYPE html>
<html lang="{{ page.lang | default: "en" }}">
  {%- include head.html -%}
  <body a="{{ site.theme_config.appearance | default: "auto" }}">

    <!-- Container that holds everything -->
    <div class="holy-grail__main">

    <!-- Side panel content goes here -->
      {%- include l_sidepanel.html -%}

      <!-- Page main content here -->
      <main class="page-content" aria-label="Content">
        <div class="w">
          {{ content }}
        </div>
      </main>

      <!-- Side ToC popup -->
      <div class="caret-cont" onclick="toggleTocContainer()">
        <i class="fa-solid fa-caret-right fa-lg" style="color: rgb(198, 208, 245);"></i>
      </div>
      <nav class="toc-panel__container">
        <div class="toc-content">
            <!-- Content goes here -->
        </div>
      </nav>
      <script>
        function toggleTocContainer() {
            var tocContainer = document.querySelector('.toc-panel__container');
            tocContainer.classList.toggle('collapsed');
        }
      </script>
    </div>

    <!-- FOOTER HERE -->
    {%- include footer.html -%}

    <!-- Some site scripts here, do not touch -->
    {%-if site.goat_counter and jekyll.environment == "production"-%}
      {%-include goat_counter.html-%}
    {%-endif-%}

    {% if page.custom_js %}
      {% for js_file in page.custom_js %}
        <script type="text/javascript" src="{{ site.baseurl }}/assets/js/{{ js_file }}.js"></script>
      {% endfor %}
    {% endif %}

    <!-- Side panel scaffold script is here, do not touch -->
    <!-- External scripting is not working for some reason -->
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        var button = document.querySelector(".scaff-button");
        var content = document.querySelector(".scaff-content");

        button.addEventListener("click", function() {
          content.classList.toggle("collapsed");
        });
      });
    </script>
  </body>
</html>